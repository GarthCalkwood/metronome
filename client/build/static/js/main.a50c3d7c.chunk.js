(this["webpackJsonpmetronome-frontend"]=this["webpackJsonpmetronome-frontend"]||[]).push([[0],{129:function(e,n,t){"use strict";t.r(n);var o=t(10),a=t.n(o),c=t(20),i=t(0),r=t(183),l=t(172),s=t(80),j=t.n(s),u=t(4),d=function(e){var n=e.value,t=e.onChange;return Object(u.jsx)(r.a,{value:n,onChange:t,placeholder:"Search",variant:"outlined",InputProps:{startAdornment:Object(u.jsx)(l.a,{position:"start",children:Object(u.jsx)(j.a,{})})}})},b=t(81),m=t.n(b),h=t(173),O=t(179),x=t(174),p=t(175),C=t(176),g=t(178),v=t(186),f=t(88),k=t(177),S=t(167),y=function(e){var n=e.open,t=e.onClick,o=e.onClose,a=e.value,c=e.onChange,i=e.sliderValue,l=e.onSliderChange,s=e.onInputChange,j=e.onSubmit;return Object(u.jsxs)("div",{children:[Object(u.jsx)(h.a,{color:"primary",onClick:t,children:Object(u.jsx)(m.a,{})}),Object(u.jsxs)(x.a,{open:n,onClose:o,children:[Object(u.jsx)(p.a,{children:"Add New Tempo"}),Object(u.jsxs)(C.a,{children:[Object(u.jsx)(r.a,{value:a,onChange:c,placeholder:"Name"}),Object(u.jsxs)(k.a,{container:!0,spacing:2,children:[Object(u.jsx)(k.a,{item:!0,xs:!0,children:Object(u.jsx)(v.a,{min:40,max:200,value:i,onChange:l})}),Object(u.jsx)(k.a,{item:!0,xs:!0,children:Object(u.jsx)(S.a,{value:i,onChange:s,inputProps:{min:40,max:200,type:"number"}})}),Object(u.jsx)(k.a,{item:!0,children:Object(u.jsx)(f.a,{children:"BPM"})})]})]}),Object(u.jsxs)(g.a,{children:[Object(u.jsx)(O.a,{onClick:o,children:"Close"}),Object(u.jsx)(O.a,{onClick:j,children:"Add"})]})]})]})},I=t(180),B=t(83),E=t.n(B),w=t(82),T=t.n(w),P=function(e){var n=e.tempo,t=e.open,o=e.onClick,a=e.onClose,c=e.value,i=e.onChange,l=e.sliderValue,s=e.onSliderChange,j=e.onInputChange,d=e.onSubmit;return Object(u.jsxs)("div",{children:[Object(u.jsx)(O.a,{variant:"contained",color:"primary",size:"small",startIcon:Object(u.jsx)(T.a,{}),onClick:function(e){return o(e,n)},children:"Edit"}),Object(u.jsxs)(x.a,{open:t,onClose:a,children:[Object(u.jsx)(p.a,{children:"Edit Tempo"}),Object(u.jsxs)(C.a,{children:[Object(u.jsx)(r.a,{value:c,onChange:i,placeholder:"Name"}),Object(u.jsxs)(k.a,{container:!0,spacing:2,children:[Object(u.jsx)(k.a,{item:!0,xs:!0,children:Object(u.jsx)(v.a,{min:40,max:200,value:l,onChange:s})}),Object(u.jsx)(k.a,{item:!0,xs:!0,children:Object(u.jsx)(S.a,{value:l,onChange:j,inputProps:{min:40,max:200,type:"number"}})}),Object(u.jsx)(k.a,{item:!0,children:Object(u.jsx)(f.a,{children:"BPM"})})]})]}),Object(u.jsxs)(g.a,{children:[Object(u.jsx)(O.a,{onClick:a,children:"Close"}),Object(u.jsx)(O.a,{onClick:d,children:"Edit"})]})]})]})},V=function(e){var n=e.tempo,t=e.onClick,o=e.onDelete,a=e.open,c=e.onEditButtonClick,i=e.onEditTempoFormClose,r=e.value,l=e.onChange,s=e.sliderValue,j=e.onSliderChange,d=e.onInputChange,b=e.onSubmit;return Object(u.jsxs)(I.a,{divider:!0,button:!0,onClick:function(e){return t(e,n.tempo)},children:[Object(u.jsxs)(f.a,{variant:"body1",gutterBottom:!0,children:["Name: ".concat(n.name),Object(u.jsx)("br",{}),"BPM: ".concat(n.tempo),Object(u.jsx)("br",{})]}),Object(u.jsx)(O.a,{variant:"contained",color:"secondary",size:"small",startIcon:Object(u.jsx)(E.a,{}),onClick:function(e){return o(e,n._id)},children:"Delete"}),Object(u.jsx)(P,{tempo:n,open:a,onClick:c,onClose:i,value:r,onChange:l,sliderValue:s,onSliderChange:j,onInputChange:d,onSubmit:b})]})},A=t(171),M=function(e){var n=e.tempos,t=e.onClick,o=e.onDelete,a=e.open,c=e.onEditButtonClick,i=e.onEditTempoFormClose,r=e.value,l=e.onChange,s=e.sliderValue,j=e.onSliderChange,d=e.onInputChange,b=e.onSubmit;return Object(u.jsx)(A.a,{children:n.map((function(e){return Object(u.jsx)(V,{tempo:e,onClick:t,onDelete:o,open:a,onEditButtonClick:c,onEditTempoFormClose:i,value:r,onChange:l,sliderValue:s,onSliderChange:j,onInputChange:d,onSubmit:b},e._id)}))})},D=t(85),N=t.n(D),_=t(84),F=t.n(_),z=t(181),J=Object(z.a)({root:{margin:20,display:"flex",alignItems:"center",justifyContent:"center"},slider:{width:100,margin:20}}),L=function(e){var n=e.playing,t=e.activeTempo,o=e.onChange,a=e.onClick,c=J();return Object(u.jsxs)("div",{className:c.root,children:[Object(u.jsxs)(f.a,{children:["BPM: ",t]}),Object(u.jsx)(v.a,{className:c.slider,min:40,max:200,value:t,onChange:o}),Object(u.jsx)(h.a,{color:"primary",onClick:a,children:n?Object(u.jsx)(F.a,{}):Object(u.jsx)(N.a,{})})]})},q=t.p+"static/media/click1.5ad4868a.wav",G=t(185),H=t(48),K=t.n(H),Q="/api/tempos",R={getAll:function(){return K.a.get(Q).then((function(e){return e.data}))},create:function(e){return K.a.post(Q,e).then((function(e){return e.data}))},update:function(e,n){return K.a.put("".concat(Q,"/").concat(e),n).then((function(e){return e.data}))},remove:function(e){return K.a.delete("".concat(Q,"/").concat(e)).then((function(e){return e.data}))}},U=t(131),W=t(184),X=t(182),Y=t(86),Z=t.n(Y),$=function(){var e=Object(i.useState)([]),n=Object(c.a)(e,2),t=n[0],o=n[1],a=Object(i.useState)(""),r=Object(c.a)(a,2),l=r[0],s=r[1],j=Object(i.useState)(!1),b=Object(c.a)(j,2),m=b[0],h=b[1],O=Object(i.useState)(120),x=Object(c.a)(O,2),p=x[0],C=x[1],g=Object(i.useState)(""),v=Object(c.a)(g,2),S=v[0],I=v[1],B=Object(i.useState)(120),E=Object(c.a)(B,2),w=E[0],T=E[1],P=Object(i.useState)(!1),V=Object(c.a)(P,2),A=V[0],D=V[1],N=Object(i.useState)(0),_=Object(c.a)(N,2),F=_[0],z=_[1],J=Object(i.useState)(!1),H=Object(c.a)(J,2),K=H[0],Q=H[1],Y=Object(i.useState)(null),$=Object(c.a)(Y,2),ee=$[0],ne=$[1],te=Object(i.useState)(!1),oe=Object(c.a)(te,2),ae=oe[0],ce=oe[1],ie=function(){h(!1),C(120),I("")},re=function(){Q(!1),C(120),I("")},le=function(e){return I(e.target.value)},se=function(e,n){C(n)},je=function(e){C(e.target.value)},ue=function(e,n){A&&(clearInterval(F),z(setInterval(be,60/n*1e3))),T(n)},de=new Audio(q),be=function(){de.play()},me=t.filter((function(e){return e.name.toLowerCase().includes(l.toLowerCase())})),he=Object(u.jsxs)("div",{children:[Object(u.jsx)(f.a,{variant:"h4",color:"primary",children:"Saved Tempos"}),Object(u.jsx)(y,{open:m,onClick:function(){return h(!0)},onClose:ie,value:S,onChange:le,sliderValue:p,onSliderChange:se,onInputChange:je,onSubmit:function(e){var n=p;n>200&&(n=200),n<40&&(n=40);var a={name:S,tempo:n};R.create(a).then((function(e){o(t.concat(e))})),ie()}}),Object(u.jsx)(d,{value:l,onChange:function(e){return s(e.target.value)}}),Object(u.jsx)(M,{tempos:me,onClick:ue,onDelete:function(e,n){console.log("event: ",e),console.log("id: ",n),window.confirm("Are you sure?")&&R.remove(n).then((function(e){o(t.filter((function(e){return e._id!==n})))}))},open:K,onEditButtonClick:function(e,n){console.log("tempo: ",n),Q(!0),C(n.tempo),I(n.name),ne(n)},onEditTempoFormClose:re,value:S,onChange:le,sliderValue:p,onSliderChange:se,onInputChange:je,onSubmit:function(e){var n=p;n>200&&(n=200),n<40&&(n=40);var a={name:S,tempo:n},c=t.findIndex((function(e){return e._id===ee._id}));console.log("tempos 1: ",t),R.update(ee._id,a).then((function(e){var n=t.slice();n.splice(c,1,e),o(n)})),console.log("Changing Tempo ".concat(ee.name,": ").concat(ee.tempo,"BPM to ").concat(S,": ").concat(n,"BPM")),re()}})]}),Oe=function(){ce(!ae)};return Object(i.useEffect)((function(){R.getAll().then((function(e){o(e)}))}),[]),Object(u.jsxs)(k.a,{container:!0,children:[Object(u.jsxs)(k.a,{item:!0,xs:2,md:4,children:[Object(u.jsx)(X.a,{onClick:Oe,children:Object(u.jsx)(Z.a,{})}),Object(u.jsx)(G.a,{variant:"temporary",anchor:"left",open:ae,onClose:Oe,sx:{display:{xs:"block",sm:"none"}},children:he}),Object(u.jsx)(W.a,{smDown:!0,children:Object(u.jsx)(G.a,{variant:"permanent",sx:{display:{sm:"none",md:"block"}},open:!0,children:he})})]}),Object(u.jsx)(k.a,{item:!0,xs:8,md:4,children:Object(u.jsxs)(U.a,{children:[Object(u.jsx)(f.a,{variant:"h3",color:"primary",align:"center",gutterBottom:!0,children:"Metronome"}),Object(u.jsx)(L,{playing:A,activeTempo:w,onChange:ue,onClick:function(e){A||(z(setInterval(be,60/w*1e3)),be()),A&&clearInterval(F),D(!A)}})]})}),Object(u.jsx)(k.a,{item:!0,xs:2,md:4})]})};a.a.render(Object(u.jsx)($,{}),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.a50c3d7c.chunk.js.map